# Issue #99 URL入力フォームに WordPress 標準のリンク検索モーダルを追加

## チケットへのリンク / 変更の理由（元のissueがあればリンクを貼り付ければOK）

https://github.com/vektor-inc/vk-link-target-controller/issues/99

## どういう変更をしたか？

* URL入力フィールドに「Search internal link」（サイト内リンクを検索）ボタンを追加し、WordPress 標準のリンク挿入モーダルを呼び出せるようにした
* リンクモーダルで「リンクを新しいタブで開く」を選択した場合、メタボックスの「別ウィンドウで開く」チェックボックスに正しく反映されるようにした

## レビューに回す前に確認する事

- [ ] 複数の意図の変更 （ 機能の不具合修正 + 別の機能追加など ） を含んでいないか？
- [ ] Files changed (変更ファイル)の内容は目視で確認したか？
- [ ] readme.txt に変更内容は書いたか？
- [ ] 本当にちゃんと確認をしたか？

## プログラムの変更の場合

- [ ] 書けそうなテストは書いたか？


## 変更内容について何を確認したか、どういう方法で確認をしたかなど

* 投稿編集画面で「Search internal link」ボタンをクリックし、WordPress のリンクモーダルが開くことを確認
* リンクモーダルでサイト内の投稿を検索・選択し、URL が入力欄に反映されることを確認
* リンクモーダルで「リンクを新しいタブで開く」にチェックして「リンクを追加」をクリックすると、「別ウィンドウで開く」チェックボックスにもチェックが入ることを確認

## 確認URL

（ ローカル環境で確認可 ）


## レビュワーの確認方法・確認する内容など

1. **内部リンク検索機能**
   * 投稿編集画面で「設定 > Link Target Controller」で投稿タイプを選択
   * 投稿編集画面の「リダイレクト用URL」メタボックスで「Search internal link」ボタンをクリック
   * リンクモーダルで投稿・固定ページを検索して選択できること
   * 選択した URL が入力欄に反映されること

2. **別ウィンドウで開くの同期**
   * リンクモーダルで「リンクを新しいタブで開く」にチェックしてリンクを追加
   * 「別ウィンドウで開く」チェックボックスにチェックが入ること

## レビュワーに回す前の確認事項

- [ ] このテンプレートのチェック項目をちゃんと確認してチェックしたか？

---

## レビュワー向け

### 確認して変更が反映されていない場合の確認事項

* プルしたか？
* ビルドしたか？（`npm run jsmin` で script.min.js を生成）
* ビルドしたディレクトリは正しいか（別の開発環境のディレクトリを見ていないか）？
* npm install したか？
* composer install したか？
